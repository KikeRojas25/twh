<div class="flex flex-col flex-auto min-w-0">
    <form (ngSubmit)="save()" #form="ngForm">
        <div class="grid grid-cols-1 sm:grid-cols-1 gap p-6 sm:py-8 sm:px-10 border-b bg-card dark:bg-transparent space-y-4">

            <!-- Resumen de selección -->
            <div class="rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-4 py-3">
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2">
                    <div class="text-sm text-gray-700 dark:text-gray-200">
                        <span class="font-semibold">LPN:</span> {{ lpnResumen }}
                    </div>
                    <div class="text-sm text-gray-700 dark:text-gray-200">
                        <span class="font-semibold">Filas seleccionadas:</span> {{ selectedCount }}
                    </div>
                </div>
            </div>

            <!-- Lote -->
            <div class="flex flex-col">
                <div class="flex items-center space-x-4">
                    <label class="w-40 text-lg font-semibold text-gray-800 dark:text-gray-200">Lote</label>
                    <input 
                        pInputText 
                        required
                        class="flex-1" 
                        autocomplete="off"
                        [(ngModel)]="model.lotNum" 
                        name="lotNum" 
                        type="text"
                    >
                </div>
            </div>

            <!-- Fecha de Manufactura -->
            <div class="flex flex-col">
                <div class="flex items-center space-x-4">
                    <label class="w-40 text-lg font-semibold text-gray-800 dark:text-gray-200">Fecha de Manufactura</label>
                    <p-calendar 
                        class="flex-1" 
                        [style]="{ 'width': '100%' }"
                        [(ngModel)]="model.fechaManufactura" 
                        [appendTo]="'body'" 
                        baseZIndex=1000000
                        [locale]="es" 
                        dateFormat="dd/mm/yy"
                        name="fechaManufactura"
                        >
                    </p-calendar>
                </div>
            </div>

            <!-- Fecha de Expiración -->
            <div class="flex flex-col">
                <div class="flex items-center space-x-4">
                    <label class="w-40 text-lg font-semibold text-gray-800 dark:text-gray-200">Fecha de Expiración</label>
                    <p-calendar 
                        class="flex-1" 
                        [style]="{ 'width': '100%' }"
                        [(ngModel)]="model.fechaExpire" 
                        [appendTo]="'body'" 
                        baseZIndex=1000000
                        [locale]="es" 
                        name="fechaExpire"
                        >
                    </p-calendar>
                </div>
            </div>

        </div>
        <!-- Botones -->
        <div class="flex justify-center gap-x-4 pt-6">
            <p-button 
              class="btn btn-space btn-primary" 
              type="submit"
              [disabled]="!form.valid" >
              Guardar
            </p-button>
          
            <p-button  
              routerLinkActive="router-link-active" 
              class="btn btn-space btn-secondary"
              (click)="close()">
              Cancelar
            </p-button>
        </div>
    </form>
</div>
<p-confirmDialog></p-confirmDialog>